

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Using the geo-hpcc cluster</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script async="async" src="../_static/thebelab.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="canonical" href="https://introgm.github.io/2020/instructions/cluster.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Exercise notebooks in GitHub Classroom" href="../exercises/classroom.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://introgm.github.io/2020/instructions/cluster.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Using the geo-hpcc cluster" />
<meta property="og:description" content="Using the geo-hpcc cluster  Suggested software  Windows  PuTTY (for connecting and using geo-hpcc)  WinSCP (for copying files from geo-hpcc)  ParaView (for data" />
<meta property="og:image"       content="https://introgm.github.io/2020/_static/introgm-logo.png" />

<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/introgm-logo.png" class="logo" alt="logo">
  
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
<li class="navbar-special">
<p class="margin-caption">General info</p>
</li>
  <li class="">
    <a href="../course-info/general-info.html">General info</a>
  </li>
  <li class="">
    <a href="../course-info/learning-goals.html">Learning goals</a>
  </li>
  <li class="">
    <a href="../course-info/grading.html">Grading</a>
  </li>
  <li class="">
    <a href="../course-info/resources.html">Resources</a>
  </li>
  <li class="">
    <a href="../course-info/licensing.html">License and terms of usage</a>
  </li>
  <li class="">
    <a href="../course-info/previous-years.html">Past versions of this course</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Day 1</p>
</li>
  <li class="">
    <a href="../day-1/course-overview.html">Course overview</a>
  </li>
  <li class="">
    <a href="../day-1/physical-processes.html">Processes and concepts</a>
  </li>
  <li class="">
    <a href="../day-1/solving-equations.html">Solving equations</a>
  </li>
  <li class="">
    <a href="../day-1/python-basics.html">Basic elements of Python</a>
  </li>
  <li class="">
    <a href="../day-1/functions.html">Functions</a>
  </li>
  <li class="">
    <a href="../day-1/numpy.html">Introduction to NumPy</a>
  </li>
  <li class="">
    <a href="../day-1/for-loops.html">for loops</a>
  </li>
  <li class="">
    <a href="../day-1/conditional-statements.html">Conditional statements</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Day 2</p>
</li>
  <li class="">
    <a href="../day-2/fdbasics.html">Introduction to finite differences</a>
  </li>
  <li class="">
    <a href="../day-2/fdheat.html">Finite differences for the heat equation</a>
  </li>
  <li class="">
    <a href="../day-2/stability.html">Stability of the heat equation FD approximation</a>
  </li>
  <li class="">
    <a href="../day-2/diffadv.html">Heat advection and diffusion</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Day 3</p>
</li>
  <li class="">
    <a href="../day-3/benchmarking.html">Testing your code and benchmarking</a>
  </li>
  <li class="">
    <a href="../day-3/stokes.html">FD for Stokes equation</a>
  </li>
  <li class="">
    <a href="../day-3/channel.html">Solution strategy for channel flow</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Day 4</p>
</li>
  <li class="">
    <a href="../day-4/clusters.html">Cluster computing</a>
  </li>
  <li class="">
    <a href="../day-4/putting-it-together.html">Putting it all together</a>
  </li>
  <li class="">
    <a href="../day-4/marker-in-cell.html">Marker-in-cell technique</a>
  </li>
  <li class="">
    <a href="../day-4/numerical-diffusion.html">Numerical diffusion</a>
  </li>
  <li class="">
    <a href="../day-4/intro-to-douar.html">Introduction to DOUAR</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Exercises</p>
</li>
  <li class="">
    <a href="../exercises/classroom.html">Exercise notebooks in GitHub Classroom</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Technical instructions</p>
</li>
  <li class="active">
    <a href="">Using the geo-hpcc cluster</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../_sources/instructions/cluster.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#suggested-software" class="nav-link">Suggested software</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#windows" class="nav-link">Windows</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#mac-linux" class="nav-link">Mac/Linux</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#user-accounts" class="nav-link">User accounts</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#geo-hpcc" class="nav-link">geo-hpcc</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sculpin" class="nav-link">sculpin</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#connecting-from-windows" class="nav-link">Connecting from Windows</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#command-line-access" class="nav-link">Command line access</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#file-access" class="nav-link">File access</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#connecting-from-mac-linux" class="nav-link">Connecting from Mac/Linux</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#id1" class="nav-link">Command line access</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#id2" class="nav-link">File access</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#running-douar-models" class="nav-link">Running DOUAR models</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="using-the-geo-hpcc-cluster">
<h1>Using the geo-hpcc cluster<a class="headerlink" href="#using-the-geo-hpcc-cluster" title="Permalink to this headline">¶</a></h1>
<div class="section" id="suggested-software">
<h2>Suggested software<a class="headerlink" href="#suggested-software" title="Permalink to this headline">¶</a></h2>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.putty.org/">PuTTY</a> (for connecting and using geo-hpcc)</p></li>
<li><p><a class="reference external" href="https://winscp.net/eng/index.php">WinSCP</a> (for copying files from geo-hpcc)</p></li>
<li><p><a class="reference external" href="https://www.paraview.org/download/">ParaView</a> (for data visualization)</p></li>
</ul>
</div>
<div class="section" id="mac-linux">
<h3>Mac/Linux<a class="headerlink" href="#mac-linux" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.paraview.org/download/">ParaView</a> (for data visualization)</p></li>
</ul>
</div>
</div>
<div class="section" id="user-accounts">
<h2>User accounts<a class="headerlink" href="#user-accounts" title="Permalink to this headline">¶</a></h2>
<p>Accounts have been created for you on geo-hpcc and sculpin, the gateway maching you need to connect through if you are trying to access the cluster from outside the Institute of Seismology. Some basic information about the machines, including how to change your password, can be found below.</p>
<div class="section" id="geo-hpcc">
<h3>geo-hpcc<a class="headerlink" href="#geo-hpcc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Host: geo-hpfe.seismo.helsinki.fi (geo-hpfe is a frontend virtual machine)</p></li>
<li><p>To change your password you can log in to geo-hpfe and type <code class="docutils literal notranslate"><span class="pre">yppasswd</span></code>.</p></li>
</ul>
</div>
<div class="section" id="sculpin">
<h3>sculpin<a class="headerlink" href="#sculpin" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Host: sculpin.seismo.helsinki.fi</p></li>
<li><p>To change your password you can log in to sculpin and type <code class="docutils literal notranslate"><span class="pre">passwd</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="connecting-from-windows">
<h2>Connecting from Windows<a class="headerlink" href="#connecting-from-windows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="command-line-access">
<h3>Command line access<a class="headerlink" href="#command-line-access" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Open PuTTY</p></li>
<li><p><em>Host name</em>: <code class="docutils literal notranslate"><span class="pre">sculpin.seismo.helsinki.fi</span></code></p></li>
<li><p>Click <em>Open</em></p></li>
<li><p>Type in your username and password</p></li>
<li><p>Type the command <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">username&#64;geo-hpfe.seismo.helsinki.fi</span></code>, where <code class="docutils literal notranslate"><span class="pre">username</span></code> is the your username</p></li>
</ol>
</div>
<div class="section" id="file-access">
<h3>File access<a class="headerlink" href="#file-access" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Open WinSCP</p></li>
<li><p>Click <em>New Site</em>, fill in <em>Host name</em>: <code class="docutils literal notranslate"><span class="pre">geo-hpfe.seismo.helsinki.fi</span></code>, <em>User name</em> and <em>Password</em>.</p></li>
<li><p>Click <em>Advanced…</em></p></li>
<li><p>Choose <em>Connection</em>, <em>Tunnel</em>, and check <em>Connect through SSH tunnel</em></p></li>
<li><p>Fill in values: <em>Host name</em>: <code class="docutils literal notranslate"><span class="pre">sculpin.seismo.helsinki.fi</span></code>, <em>User name</em> and <em>Password</em></p></li>
<li><p>Click <em>OK</em></p></li>
<li><p>Click <em>Save</em></p></li>
<li><p>Click <em>Login</em></p></li>
</ol>
<p>The WinSCP session will be saved, so that next time you can just double-click the hostname on the left, and the connection will be opened.</p>
</div>
</div>
<div class="section" id="connecting-from-mac-linux">
<h2>Connecting from Mac/Linux<a class="headerlink" href="#connecting-from-mac-linux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Command line access<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">username&#64;sculpin.seismo.helsinki.fi</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">username&#64;geo-hpfe.seismo.helsinki.fi</span></code></p></li>
</ol>
<p>Note, the usernames need to be replaced with the your username.</p>
</div>
<div class="section" id="id2">
<h3>File access<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">-oProxyCommand=&quot;ssh</span> <span class="pre">-W</span> <span class="pre">%h:%p</span> <span class="pre">username&#64;sculpin.seismo.helsinki.fi&quot;</span> <span class="pre">username&#64;geo-hpfe.seismo.helsinki.fi:/globalscratch/username/douar/modelname/OUT/*.vtk</span> <span class="pre">.</span></code></p></li>
</ol>
</div>
</div>
<div class="section" id="running-douar-models">
<h2>Running DOUAR models<a class="headerlink" href="#running-douar-models" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Modify the model <em>input file</em>, e.g., <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">~/douar/inputs/rift.txt</span></code></p></li>
<li><p><em>Submit</em> the job: <code class="docutils literal notranslate"><span class="pre">~/bin/submitdouar.sh</span> <span class="pre">-i</span> <span class="pre">~/douar/inputs/rift.txt</span> <span class="pre">-n</span> <span class="pre">16</span></code></p></li>
<li><p><em>Monitor</em> the job status: <code class="docutils literal notranslate"><span class="pre">squeue</span></code></p></li>
<li><p><em>Post-process</em> the output:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/globalscratch/username/douar/rift_20180514100500/OUT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/bin/process_outbin.sh</span></code></p></li>
<li><p>Note that the directory name of the output is formed from the model name (<code class="docutils literal notranslate"><span class="pre">rift</span></code>) and the date and time of the job submission</p></li>
</ul>
</li>
<li><p>Copy <em>VTK files</em> to your local machine (see instructions above) to be opened in ParaView</p></li>
</ol>
<p>You can <em>cancel</em> your job with <code class="docutils literal notranslate"><span class="pre">scancel</span> <span class="pre">jobid</span></code> where jobid is the numerical ID of the job, and can be found using <code class="docutils literal notranslate"><span class="pre">squeue</span></code></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "IntroGM/2020",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "instructions"
        }
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../exercises/classroom.html" title="previous page">Exercise notebooks in GitHub Classroom</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By David Whipp and Lars Kaislaniemi<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-92357604-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>